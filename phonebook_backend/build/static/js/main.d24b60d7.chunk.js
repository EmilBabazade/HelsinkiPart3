(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),c=t.n(o),u=t(2),l=function(e){var n=e.name,t=e.phoneNumber,a=e.nameChangeHandler,o=e.numberChangeHandler,c=e.addPersonHandler;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("h2",null,"add a new"),"name: ",r.a.createElement("input",{value:n,onChange:a}),r.a.createElement("br",null),"number: ",r.a.createElement("input",{value:t,onChange:o})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:c},"add"))))},i=function(e){var n=e.persons,t=e.deleteHandler;return r.a.createElement("div",null,r.a.createElement("h2",null,"Numbers"),r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("li",{key:e.id+e.name+e.number},e.name," ",e.number,r.a.createElement("button",{onClick:t(e)},"delete"))}))))},m=function(e){var n=e.filter,t=e.filterHandler;return r.a.createElement("div",null,"filter shown with",r.a.createElement("input",{value:n,onChange:t}))},s=t(3),f=t.n(s),d="/api/persons",b=function(e){return e.then((function(e){return e.data}))},h=function(){return b(f.a.get(d))},p=function(e){return b(f.a.post(d,e))},E=function(e){return b(f.a.delete("".concat(d,"/").concat(e)))},v=function(e){var n=e.message;return n?r.a.createElement("div",{className:"notification"},n):null},g=(t(36),function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),s=Object(u.a)(c,2),f=s[0],d=s[1],b=Object(a.useState)(0),g=Object(u.a)(b,2),j=g[0],O=g[1],k=Object(a.useState)(t),w=Object(u.a)(k,2),C=w[0],H=w[1],x=Object(a.useState)(""),y=Object(u.a)(x,2),S=y[0],B=y[1],N=Object(a.useState)(""),T=Object(u.a)(N,2),P=T[0],D=T[1],J=function(){h().then((function(e){o(e),H(e)}))};Object(a.useEffect)(J,[]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(v,{message:P}),r.a.createElement(m,{filter:S,filterHandler:function(e){var n=e.target.value;if(B(n),n){var a=C.filter((function(e){return e.name.toLowerCase().startsWith(n.toLowerCase())}));H(a)}else H(t)}}),r.a.createElement(l,{addPersonHandler:function(e){e.preventDefault();var n={name:f,number:j};try{!function(e,n){var t=n.some((function(n){return n.name===e.name})),a=n.some((function(n){return n.number===e.number}));if(t)throw{phoneBookException:!0,userText:"".concat(e.name," is already in phone book")};if(a){var r=n.reduce((function(n,t){return t.number===e.number?t.name:n}),"");throw{phoneBookException:!0,userText:"Number ".concat(e.number," belongs to ").concat(r)}}}(n,t),p(n).then((function(e){o(t.concat(n)),d(""),O(0)})).then((function(){D("Added ".concat(n.name)),setTimeout((function(){D(null)}),5e3)})).catch((function(e){var n=e.response.data.error;D("".concat(n)),console.log(n),setTimeout((function(){D(null)}),5e3)}))}catch(a){if(!a.phoneBookException)throw a;alert(a.userText)}},name:f,nameChangeHandler:function(e){return d(e.target.value)},numberChangeHandler:function(e){return O(e.target.value)},phoneNumber:j}),r.a.createElement(i,{persons:Boolean(S)?C:t,deleteHandler:function(e){return function(){window.confirm("Delete ".concat(e.name," ?"))&&E(e.id).then(J).catch((function(e){console.log("can not delete: ".concat(e)),alert("You have already deleted that person")}))}}}))});c.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.d24b60d7.chunk.js.map